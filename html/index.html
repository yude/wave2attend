<!doctype html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ざいせき</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.css" rel="stylesheet" />
</head>

<body>
  <div class="container mx-auto mt-5 max-w-md">
    <p class="text-4xl text-center skew-y-12 m-10">ざいせき</p>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <button type="button" class="drop-shadow-md text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-4xl px-5 py-10 text-center mr-2 mb-2 w-full" onclick="targetStatus='in'; invokeMain()">
        在室
      </button>
    </div>
    <div>
      <button type="button" class="drop-shadow-md text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-4xl px-5 py-10 text-center mr-2 mb-2 w-full" onclick="targetStatus='out'; invokeMain()">
        外出
      </button>
    </div>
  </div>

  <hr class="mt-5 mb-5"></hr>

<div class="relative overflow-x-auto">
  <table class="w-full text-sm text-left">
      <thead class="uppercase bg-gray-50">
          <tr>
              <th scope="col" class="px-6 py-3">
                  名前
              </th>
              <th scope="col" class="px-6 py-3">
                  状態
              </th>
          </tr>
      </thead>
      <tbody id="members"></tbody>
  </table>
</div>

<div class="grid mt-5">
  <a href="/change-name">
    <button type="button" class="brightness-60 drop-shadow-md w-full block text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2">
      名前を変える
    </button>
  </a>
  <button type="button" class="brightness-60 drop-shadow-md w-full block text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2" onclick="useReader()">
    カードリーダーを接続する
  </button>
</div>


<div id="accordion-flush" data-accordion="collapse" data-active-classes="bg-white text-gray-900" data-inactive-classes="text-gray-500">
  <h2 id="accordion-flush-heading-1">
    <button type="button" class="flex items-center justify-between w-full py-5 font-medium text-left text-gray-500" data-accordion-target="#accordion-flush-body-1" aria-expanded="false" aria-controls="accordion-flush-body-1">
      <span>デバッグ情報</span>
      <svg data-accordion-icon class="w-3 h-3 shrink-0" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"/></svg>
    </button>
  </h2>
  <div id="accordion-flush-body-1" class="hidden" aria-labelledby="accordion-flush-heading-1">
    <div class="py-5">
      <p id="idm">カードの IDm: 取得中</p>

      <label for="message" class="block mb-2 text-sm font-medium text-gray-900">デバッグ ログ</label>
      <textarea id="output" rows="20" class="block p-2.5 w-full font-mono text-sm text-gray-900 bg-gray-50 rounded-lg" readonly placeholder="PaSoRi のログがここに表示されます..."></textarea>
    </div>
  </div>
</div>

</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.js"></script>
  
  <script src="js/use-pasori.js"></script>
  <script src="js/pasori.js"></script>
  <script src="js/members.js"></script>
  <script src="js/status.js"></script>

  <script>
    getMembers();
  </script>

</body>
</html>
